"use strict";(self["webpackChunkvino_md"]=self["webpackChunkvino_md"]||[]).push([[456],{3456:(t,e,r)=>{r.r(e),r.d(e,{createSwipeBackGesture:()=>g});var s=r(6587),i=r(545);
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
class n{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){var e;return new a(this,this.newID(),t.name,null!==(e=t.priority)&&void 0!==e?e:0,!!t.disableScroll)}createBlocker(t={}){return new l(this,this.newID(),t.disable,!!t.disableScroll)}start(t,e,r){return this.canStart(t)?(this.requestedStart.set(e,r),!0):(this.requestedStart.delete(e),!1)}capture(t,e,r){if(!this.start(t,e,r))return!1;const s=this.requestedStart;let i=-1e4;if(s.forEach((t=>{i=Math.max(i,t)})),i===r){this.capturedId=e,s.clear();const r=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(r),!0}return s.delete(e),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,e){let r=this.disabledGestures.get(t);void 0===r&&(r=new Set,this.disabledGestures.set(t,r)),r.add(e)}enableGesture(t,e){const r=this.disabledGestures.get(t);void 0!==r&&r.delete(e)}disableScroll(t){this.disabledScroll.add(t),1===this.disabledScroll.size&&document.body.classList.add(c)}enableScroll(t){this.disabledScroll.delete(t),0===this.disabledScroll.size&&document.body.classList.remove(c)}canStart(t){return void 0===this.capturedId&&!this.isDisabled(t)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const e=this.disabledGestures.get(t);return!!(e&&e.size>0)}newID(){return this.gestureId++,this.gestureId}}class a{constructor(t,e,r,s,i){this.id=e,this.name=r,this.disableScroll=i,this.priority=1e6*s+e,this.ctrl=t}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class l{constructor(t,e,r,s){this.id=e,this.disable=r,this.disableScroll=s,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const c="backdrop-no-scroll",o=new n,d=(t,e,r,s)=>{const i=u(t)?{capture:!!s.capture,passive:!!s.passive}:!!s.capture;let n,a;return t["__zone_symbol__addEventListener"]?(n="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(n="addEventListener",a="removeEventListener"),t[n](e,r,i),()=>{t[a](e,r,i)}},u=t=>{if(void 0===h)try{const e=Object.defineProperty({},"passive",{get:()=>{h=!0}});t.addEventListener("optsTest",(()=>{}),e)}catch(e){h=!1}return!!h};let h;const b=2e3,v=(t,e,r,s,i)=>{let n,a,l,c,o,u,h,v=0;const p=s=>{v=Date.now()+b,e(s)&&(!a&&r&&(a=d(t,"touchmove",r,i)),l||(l=d(s.target,"touchend",y,i)),c||(c=d(s.target,"touchcancel",y,i)))},S=s=>{v>Date.now()||e(s)&&(!u&&r&&(u=d(m(t),"mousemove",r,i)),h||(h=d(m(t),"mouseup",f,i)))},y=t=>{X(),s&&s(t)},f=t=>{g(),s&&s(t)},X=()=>{a&&a(),l&&l(),c&&c(),a=l=c=void 0},g=()=>{u&&u(),h&&h(),u=h=void 0},w=()=>{X(),g()},Y=(e=!0)=>{e?(n||(n=d(t,"touchstart",p,i)),o||(o=d(t,"mousedown",S,i))):(n&&n(),o&&o(),n=o=void 0,w())},_=()=>{Y(!1),s=r=e=void 0};return{enable:Y,stop:w,destroy:_}},m=t=>t instanceof Document?t:t.ownerDocument,p=(t,e,r)=>{const s=r*(Math.PI/180),i="x"===t,n=Math.cos(s),a=e*e;let l=0,c=0,o=!1,d=0;return{start(t,e){l=t,c=e,d=0,o=!0},detect(t,e){if(!o)return!1;const r=t-l,s=e-c,u=r*r+s*s;if(u<a)return!1;const h=Math.sqrt(u),b=(i?r:s)/h;return d=b>n?1:b<-n?-1:0,o=!1,!0},isGesture(){return 0!==d},getDirection(){return d}}},S=t=>{let e=!1,r=!1,s=!0,i=!1;const n=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),a=n.canStart,l=n.onWillStart,c=n.onStart,d=n.onEnd,u=n.notCaptured,h=n.onMove,b=n.threshold,m=n.passive,S=n.blurOnStart,g={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},w=p(n.direction,n.threshold,n.maxAngle),Y=o.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),_=t=>{const e=X(t);return!(r||!s)&&(f(t,g),g.startX=g.currentX,g.startY=g.currentY,g.startTime=g.currentTime=e,g.velocityX=g.velocityY=g.deltaX=g.deltaY=0,g.event=t,(!a||!1!==a(g))&&(Y.release(),!!Y.start()&&(r=!0,0===b?E():(w.start(g.startX,g.startY),!0))))},G=t=>{e?!i&&s&&(i=!0,y(g,t),requestAnimationFrame(D)):(y(g,t),w.detect(g.currentX,g.currentY)&&(w.isGesture()&&E()||q()))},D=()=>{e&&(i=!1,h&&h(g))},E=()=>!!Y.capture()&&(e=!0,s=!1,g.startX=g.currentX,g.startY=g.currentY,g.startTime=g.currentTime,l?l(g).then(k):k(),!0),I=()=>{if("undefined"!==typeof document){const t=document.activeElement;(null===t||void 0===t?void 0:t.blur)&&t.blur()}},k=()=>{S&&I(),c&&c(g),s=!0},M=()=>{e=!1,r=!1,i=!1,s=!0,Y.release()},T=t=>{const r=e,i=s;M(),i&&(y(g,t),r?d&&d(g):u&&u(g))},L=v(n.el,_,G,T,{capture:!1,passive:m}),q=()=>{M(),L.stop(),u&&u(g)};return{enable(t=!0){t||(e&&T(void 0),M()),L.enable(t)},destroy(){Y.destroy(),L.destroy()}}},y=(t,e)=>{if(!e)return;const r=t.currentX,s=t.currentY,i=t.currentTime;f(e,t);const n=t.currentX,a=t.currentY,l=t.currentTime=X(e),c=l-i;if(c>0&&c<100){const e=(n-r)/c,i=(a-s)/c;t.velocityX=.7*e+.3*t.velocityX,t.velocityY=.7*i+.3*t.velocityY}t.deltaX=n-t.startX,t.deltaY=a-t.startY,t.event=e},f=(t,e)=>{let r=0,s=0;if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];r=t.clientX,s=t.clientY}else void 0!==t.pageX&&(r=t.pageX,s=t.pageY)}e.currentX=r,e.currentY=s},X=t=>t.timeStamp||Date.now(),g=(t,e,r,n,a)=>{const l=t.ownerDocument.defaultView,c=(0,i.i)(t),o=t=>{const e=50,{startX:r}=t;return c?r>=l.innerWidth-e:r<=e},d=t=>c?-t.deltaX:t.deltaX,u=t=>c?-t.velocityX:t.velocityX,h=t=>o(t)&&e(),b=t=>{const e=d(t),r=e/l.innerWidth;n(r)},v=t=>{const e=d(t),r=l.innerWidth,i=e/r,n=u(t),c=r/2,o=n>=0&&(n>.2||e>c),h=o?1-i:i,b=h*r;let v=0;if(b>5){const t=b/Math.abs(n);v=Math.min(t,540)}a(o,i<=0?.01:(0,s.h)(0,i,.9999),v)};return S({el:t,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:h,onStart:r,onMove:b,onEnd:v})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNuQnVELEtBQ0ExQyxZQUFhLGVBQ2JrSCxnQkFBaUIsR0FDakJ0QixVQUFXLEdBQ1gxRixXQUNBa0gsUUFBUzRDLEVBQ1R6QyxTQUNBRixTQUNBLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aW5vLW1kLy4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2NvbXBvbmVudHMvZ2VzdHVyZS1jb250cm9sbGVyLmpzIiwid2VicGFjazovL3Zpbm8tbWQvLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvY29tcG9uZW50cy9pbmRleDIuanMiLCJ3ZWJwYWNrOi8vdmluby1tZC8uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9jb21wb25lbnRzL3N3aXBlLWJhY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmNsYXNzIEdlc3R1cmVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5nZXN0dXJlSWQgPSAwO1xuICAgIHRoaXMucmVxdWVzdGVkU3RhcnQgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5kaXNhYmxlZEdlc3R1cmVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuZGlzYWJsZWRTY3JvbGwgPSBuZXcgU2V0KCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBnZXN0dXJlIGRlbGVnYXRlIGJhc2VkIG9uIHRoZSBHZXN0dXJlQ29uZmlnIHBhc3NlZFxuICAgKi9cbiAgY3JlYXRlR2VzdHVyZShjb25maWcpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG5ldyBHZXN0dXJlRGVsZWdhdGUodGhpcywgdGhpcy5uZXdJRCgpLCBjb25maWcubmFtZSwgKF9hID0gY29uZmlnLnByaW9yaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwLCAhIWNvbmZpZy5kaXNhYmxlU2Nyb2xsKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIGJsb2NrZXIgdGhhdCB3aWxsIGJsb2NrIGFueSBvdGhlciBnZXN0dXJlIGV2ZW50cyBmcm9tIGZpcmluZy4gU2V0IGluIHRoZSBpb24tZ2VzdHVyZSBjb21wb25lbnQuXG4gICAqL1xuICBjcmVhdGVCbG9ja2VyKG9wdHMgPSB7fSkge1xuICAgIHJldHVybiBuZXcgQmxvY2tlckRlbGVnYXRlKHRoaXMsIHRoaXMubmV3SUQoKSwgb3B0cy5kaXNhYmxlLCAhIW9wdHMuZGlzYWJsZVNjcm9sbCk7XG4gIH1cbiAgc3RhcnQoZ2VzdHVyZU5hbWUsIGlkLCBwcmlvcml0eSkge1xuICAgIGlmICghdGhpcy5jYW5TdGFydChnZXN0dXJlTmFtZSkpIHtcbiAgICAgIHRoaXMucmVxdWVzdGVkU3RhcnQuZGVsZXRlKGlkKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5yZXF1ZXN0ZWRTdGFydC5zZXQoaWQsIHByaW9yaXR5KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjYXB0dXJlKGdlc3R1cmVOYW1lLCBpZCwgcHJpb3JpdHkpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnQoZ2VzdHVyZU5hbWUsIGlkLCBwcmlvcml0eSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdGVkU3RhcnQgPSB0aGlzLnJlcXVlc3RlZFN0YXJ0O1xuICAgIGxldCBtYXhQcmlvcml0eSA9IC0xMDAwMDtcbiAgICByZXF1ZXN0ZWRTdGFydC5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgbWF4UHJpb3JpdHkgPSBNYXRoLm1heChtYXhQcmlvcml0eSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIGlmIChtYXhQcmlvcml0eSA9PT0gcHJpb3JpdHkpIHtcbiAgICAgIHRoaXMuY2FwdHVyZWRJZCA9IGlkO1xuICAgICAgcmVxdWVzdGVkU3RhcnQuY2xlYXIoKTtcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdpb25HZXN0dXJlQ2FwdHVyZWQnLCB7IGRldGFpbDogeyBnZXN0dXJlTmFtZSB9IH0pO1xuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVxdWVzdGVkU3RhcnQuZGVsZXRlKGlkKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmVsZWFzZShpZCkge1xuICAgIHRoaXMucmVxdWVzdGVkU3RhcnQuZGVsZXRlKGlkKTtcbiAgICBpZiAodGhpcy5jYXB0dXJlZElkID09PSBpZCkge1xuICAgICAgdGhpcy5jYXB0dXJlZElkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICBkaXNhYmxlR2VzdHVyZShnZXN0dXJlTmFtZSwgaWQpIHtcbiAgICBsZXQgc2V0ID0gdGhpcy5kaXNhYmxlZEdlc3R1cmVzLmdldChnZXN0dXJlTmFtZSk7XG4gICAgaWYgKHNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXQgPSBuZXcgU2V0KCk7XG4gICAgICB0aGlzLmRpc2FibGVkR2VzdHVyZXMuc2V0KGdlc3R1cmVOYW1lLCBzZXQpO1xuICAgIH1cbiAgICBzZXQuYWRkKGlkKTtcbiAgfVxuICBlbmFibGVHZXN0dXJlKGdlc3R1cmVOYW1lLCBpZCkge1xuICAgIGNvbnN0IHNldCA9IHRoaXMuZGlzYWJsZWRHZXN0dXJlcy5nZXQoZ2VzdHVyZU5hbWUpO1xuICAgIGlmIChzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0LmRlbGV0ZShpZCk7XG4gICAgfVxuICB9XG4gIGRpc2FibGVTY3JvbGwoaWQpIHtcbiAgICB0aGlzLmRpc2FibGVkU2Nyb2xsLmFkZChpZCk7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWRTY3JvbGwuc2l6ZSA9PT0gMSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKEJBQ0tEUk9QX05PX1NDUk9MTCk7XG4gICAgfVxuICB9XG4gIGVuYWJsZVNjcm9sbChpZCkge1xuICAgIHRoaXMuZGlzYWJsZWRTY3JvbGwuZGVsZXRlKGlkKTtcbiAgICBpZiAodGhpcy5kaXNhYmxlZFNjcm9sbC5zaXplID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoQkFDS0RST1BfTk9fU0NST0xMKTtcbiAgICB9XG4gIH1cbiAgY2FuU3RhcnQoZ2VzdHVyZU5hbWUpIHtcbiAgICBpZiAodGhpcy5jYXB0dXJlZElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGEgZ2VzdHVyZSBhbHJlYWR5IGNhcHR1cmVkXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzRGlzYWJsZWQoZ2VzdHVyZU5hbWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlzQ2FwdHVyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FwdHVyZWRJZCAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIGlzU2Nyb2xsRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzYWJsZWRTY3JvbGwuc2l6ZSA+IDA7XG4gIH1cbiAgaXNEaXNhYmxlZChnZXN0dXJlTmFtZSkge1xuICAgIGNvbnN0IGRpc2FibGVkID0gdGhpcy5kaXNhYmxlZEdlc3R1cmVzLmdldChnZXN0dXJlTmFtZSk7XG4gICAgaWYgKGRpc2FibGVkICYmIGRpc2FibGVkLnNpemUgPiAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIG5ld0lEKCkge1xuICAgIHRoaXMuZ2VzdHVyZUlkKys7XG4gICAgcmV0dXJuIHRoaXMuZ2VzdHVyZUlkO1xuICB9XG59XG5jbGFzcyBHZXN0dXJlRGVsZWdhdGUge1xuICBjb25zdHJ1Y3RvcihjdHJsLCBpZCwgbmFtZSwgcHJpb3JpdHksIGRpc2FibGVTY3JvbGwpIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmRpc2FibGVTY3JvbGwgPSBkaXNhYmxlU2Nyb2xsO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eSAqIDEwMDAwMDAgKyBpZDtcbiAgICB0aGlzLmN0cmwgPSBjdHJsO1xuICB9XG4gIGNhblN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5jdHJsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmN0cmwuY2FuU3RhcnQodGhpcy5uYW1lKTtcbiAgfVxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuY3RybCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jdHJsLnN0YXJ0KHRoaXMubmFtZSwgdGhpcy5pZCwgdGhpcy5wcmlvcml0eSk7XG4gIH1cbiAgY2FwdHVyZSgpIHtcbiAgICBpZiAoIXRoaXMuY3RybCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjYXB0dXJlZCA9IHRoaXMuY3RybC5jYXB0dXJlKHRoaXMubmFtZSwgdGhpcy5pZCwgdGhpcy5wcmlvcml0eSk7XG4gICAgaWYgKGNhcHR1cmVkICYmIHRoaXMuZGlzYWJsZVNjcm9sbCkge1xuICAgICAgdGhpcy5jdHJsLmRpc2FibGVTY3JvbGwodGhpcy5pZCk7XG4gICAgfVxuICAgIHJldHVybiBjYXB0dXJlZDtcbiAgfVxuICByZWxlYXNlKCkge1xuICAgIGlmICh0aGlzLmN0cmwpIHtcbiAgICAgIHRoaXMuY3RybC5yZWxlYXNlKHRoaXMuaWQpO1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZVNjcm9sbCkge1xuICAgICAgICB0aGlzLmN0cmwuZW5hYmxlU2Nyb2xsKHRoaXMuaWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVsZWFzZSgpO1xuICAgIHRoaXMuY3RybCA9IHVuZGVmaW5lZDtcbiAgfVxufVxuY2xhc3MgQmxvY2tlckRlbGVnYXRlIHtcbiAgY29uc3RydWN0b3IoY3RybCwgaWQsIGRpc2FibGUsIGRpc2FibGVTY3JvbGwpIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5kaXNhYmxlID0gZGlzYWJsZTtcbiAgICB0aGlzLmRpc2FibGVTY3JvbGwgPSBkaXNhYmxlU2Nyb2xsO1xuICAgIHRoaXMuY3RybCA9IGN0cmw7XG4gIH1cbiAgYmxvY2soKSB7XG4gICAgaWYgKCF0aGlzLmN0cmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzYWJsZSkge1xuICAgICAgZm9yIChjb25zdCBnZXN0dXJlIG9mIHRoaXMuZGlzYWJsZSkge1xuICAgICAgICB0aGlzLmN0cmwuZGlzYWJsZUdlc3R1cmUoZ2VzdHVyZSwgdGhpcy5pZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmRpc2FibGVTY3JvbGwpIHtcbiAgICAgIHRoaXMuY3RybC5kaXNhYmxlU2Nyb2xsKHRoaXMuaWQpO1xuICAgIH1cbiAgfVxuICB1bmJsb2NrKCkge1xuICAgIGlmICghdGhpcy5jdHJsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmRpc2FibGUpIHtcbiAgICAgIGZvciAoY29uc3QgZ2VzdHVyZSBvZiB0aGlzLmRpc2FibGUpIHtcbiAgICAgICAgdGhpcy5jdHJsLmVuYWJsZUdlc3R1cmUoZ2VzdHVyZSwgdGhpcy5pZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmRpc2FibGVTY3JvbGwpIHtcbiAgICAgIHRoaXMuY3RybC5lbmFibGVTY3JvbGwodGhpcy5pZCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy51bmJsb2NrKCk7XG4gICAgdGhpcy5jdHJsID0gdW5kZWZpbmVkO1xuICB9XG59XG5jb25zdCBCQUNLRFJPUF9OT19TQ1JPTEwgPSAnYmFja2Ryb3Atbm8tc2Nyb2xsJztcbmNvbnN0IEdFU1RVUkVfQ09OVFJPTExFUiA9IG5ldyBHZXN0dXJlQ29udHJvbGxlcigpO1xuXG5leHBvcnQgeyBHRVNUVVJFX0NPTlRST0xMRVIgYXMgRyB9O1xuIiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IEcgYXMgR0VTVFVSRV9DT05UUk9MTEVSIH0gZnJvbSAnLi9nZXN0dXJlLWNvbnRyb2xsZXIuanMnO1xuZXhwb3J0IHsgRyBhcyBHRVNUVVJFX0NPTlRST0xMRVIgfSBmcm9tICcuL2dlc3R1cmUtY29udHJvbGxlci5qcyc7XG5cbmNvbnN0IGFkZEV2ZW50TGlzdGVuZXIgPSAoZWwsIGV2ZW50TmFtZSwgY2FsbGJhY2ssIG9wdHMpID0+IHtcbiAgLy8gdXNlIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgd2hlbiBzdXBwb3J0ZWRcbiAgLy8gb3RoZXJ3aXNlIGl0J3MganVzdCBhIGJvb2xlYW4gZm9yIHRoZSBcImNhcHR1cmVcIiBhcmdcbiAgY29uc3QgbGlzdGVuZXJPcHRzID0gc3VwcG9ydHNQYXNzaXZlKGVsKVxuICAgID8ge1xuICAgICAgY2FwdHVyZTogISFvcHRzLmNhcHR1cmUsXG4gICAgICBwYXNzaXZlOiAhIW9wdHMucGFzc2l2ZSxcbiAgICB9XG4gICAgOiAhIW9wdHMuY2FwdHVyZTtcbiAgbGV0IGFkZDtcbiAgbGV0IHJlbW92ZTtcbiAgaWYgKGVsWydfX3pvbmVfc3ltYm9sX19hZGRFdmVudExpc3RlbmVyJ10pIHtcbiAgICBhZGQgPSAnX196b25lX3N5bWJvbF9fYWRkRXZlbnRMaXN0ZW5lcic7XG4gICAgcmVtb3ZlID0gJ19fem9uZV9zeW1ib2xfX3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuICB9XG4gIGVsc2Uge1xuICAgIGFkZCA9ICdhZGRFdmVudExpc3RlbmVyJztcbiAgICByZW1vdmUgPSAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG4gIH1cbiAgZWxbYWRkXShldmVudE5hbWUsIGNhbGxiYWNrLCBsaXN0ZW5lck9wdHMpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGVsW3JlbW92ZV0oZXZlbnROYW1lLCBjYWxsYmFjaywgbGlzdGVuZXJPcHRzKTtcbiAgfTtcbn07XG5jb25zdCBzdXBwb3J0c1Bhc3NpdmUgPSAobm9kZSkgPT4ge1xuICBpZiAoX3NQYXNzaXZlID09PSB1bmRlZmluZWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgIF9zUGFzc2l2ZSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignb3B0c1Rlc3QnLCAoKSA9PiB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0sIG9wdHMpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgX3NQYXNzaXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiAhIV9zUGFzc2l2ZTtcbn07XG5sZXQgX3NQYXNzaXZlO1xuXG5jb25zdCBNT1VTRV9XQUlUID0gMjAwMDtcbmNvbnN0IGNyZWF0ZVBvaW50ZXJFdmVudHMgPSAoZWwsIHBvaW50ZXJEb3duLCBwb2ludGVyTW92ZSwgcG9pbnRlclVwLCBvcHRpb25zKSA9PiB7XG4gIGxldCBybVRvdWNoU3RhcnQ7XG4gIGxldCBybVRvdWNoTW92ZTtcbiAgbGV0IHJtVG91Y2hFbmQ7XG4gIGxldCBybVRvdWNoQ2FuY2VsO1xuICBsZXQgcm1Nb3VzZVN0YXJ0O1xuICBsZXQgcm1Nb3VzZU1vdmU7XG4gIGxldCBybU1vdXNlVXA7XG4gIGxldCBsYXN0VG91Y2hFdmVudCA9IDA7XG4gIGNvbnN0IGhhbmRsZVRvdWNoU3RhcnQgPSAoZXYpID0+IHtcbiAgICBsYXN0VG91Y2hFdmVudCA9IERhdGUubm93KCkgKyBNT1VTRV9XQUlUO1xuICAgIGlmICghcG9pbnRlckRvd24oZXYpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcm1Ub3VjaE1vdmUgJiYgcG9pbnRlck1vdmUpIHtcbiAgICAgIHJtVG91Y2hNb3ZlID0gYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ3RvdWNobW92ZScsIHBvaW50ZXJNb3ZlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXZlbnRzIGFyZSBkaXNwYXRjaGVkIG9uIHRoZSBlbGVtZW50IHRoYXQgaXMgdGFwcGVkIGFuZCBidWJibGUgdXAgdG9cbiAgICAgKiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgaW4gdGhlIGdlc3R1cmUuIEluIHRoZSBldmVudCB0aGF0IHRoZSBlbGVtZW50IHRoaXNcbiAgICAgKiBldmVudCB3YXMgZmlyc3QgZGlzcGF0Y2hlZCBvbiBpcyByZW1vdmVkIGZyb20gdGhlIERPTSwgdGhlIGV2ZW50IHdpbGwgbm9cbiAgICAgKiBsb25nZXIgYnViYmxlIHVwIHRvIG91ciByZWZlcmVuY2UgZWxlbWVudC4gVGhpcyBsZWF2ZXMgdGhlIGdlc3R1cmUgaW4gYW5cbiAgICAgKiB1bnVzYWJsZSBzdGF0ZS4gVG8gYWNjb3VudCBmb3IgdGhpcywgdGhlIHRvdWNoZW5kIGFuZCB0b3VjaGNhbmNlbCBsaXN0ZW5lcnNcbiAgICAgKiBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIGV2ZW50IHRhcmdldCBzbyB0aGF0IHRoZXkgc3RpbGwgZmlyZSBldmVuIGlmIHRoZSB0YXJnZXRcbiAgICAgKiBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICBpZiAoIXJtVG91Y2hFbmQpIHtcbiAgICAgIHJtVG91Y2hFbmQgPSBhZGRFdmVudExpc3RlbmVyKGV2LnRhcmdldCwgJ3RvdWNoZW5kJywgaGFuZGxlVG91Y2hFbmQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIXJtVG91Y2hDYW5jZWwpIHtcbiAgICAgIHJtVG91Y2hDYW5jZWwgPSBhZGRFdmVudExpc3RlbmVyKGV2LnRhcmdldCwgJ3RvdWNoY2FuY2VsJywgaGFuZGxlVG91Y2hFbmQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gKGV2KSA9PiB7XG4gICAgaWYgKGxhc3RUb3VjaEV2ZW50ID4gRGF0ZS5ub3coKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXBvaW50ZXJEb3duKGV2KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXJtTW91c2VNb3ZlICYmIHBvaW50ZXJNb3ZlKSB7XG4gICAgICBybU1vdXNlTW92ZSA9IGFkZEV2ZW50TGlzdGVuZXIoZ2V0RG9jdW1lbnQoZWwpLCAnbW91c2Vtb3ZlJywgcG9pbnRlck1vdmUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIXJtTW91c2VVcCkge1xuICAgICAgcm1Nb3VzZVVwID0gYWRkRXZlbnRMaXN0ZW5lcihnZXREb2N1bWVudChlbCksICdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCwgb3B0aW9ucyk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVUb3VjaEVuZCA9IChldikgPT4ge1xuICAgIHN0b3BUb3VjaCgpO1xuICAgIGlmIChwb2ludGVyVXApIHtcbiAgICAgIHBvaW50ZXJVcChldik7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVNb3VzZVVwID0gKGV2KSA9PiB7XG4gICAgc3RvcE1vdXNlKCk7XG4gICAgaWYgKHBvaW50ZXJVcCkge1xuICAgICAgcG9pbnRlclVwKGV2KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHN0b3BUb3VjaCA9ICgpID0+IHtcbiAgICBpZiAocm1Ub3VjaE1vdmUpIHtcbiAgICAgIHJtVG91Y2hNb3ZlKCk7XG4gICAgfVxuICAgIGlmIChybVRvdWNoRW5kKSB7XG4gICAgICBybVRvdWNoRW5kKCk7XG4gICAgfVxuICAgIGlmIChybVRvdWNoQ2FuY2VsKSB7XG4gICAgICBybVRvdWNoQ2FuY2VsKCk7XG4gICAgfVxuICAgIHJtVG91Y2hNb3ZlID0gcm1Ub3VjaEVuZCA9IHJtVG91Y2hDYW5jZWwgPSB1bmRlZmluZWQ7XG4gIH07XG4gIGNvbnN0IHN0b3BNb3VzZSA9ICgpID0+IHtcbiAgICBpZiAocm1Nb3VzZU1vdmUpIHtcbiAgICAgIHJtTW91c2VNb3ZlKCk7XG4gICAgfVxuICAgIGlmIChybU1vdXNlVXApIHtcbiAgICAgIHJtTW91c2VVcCgpO1xuICAgIH1cbiAgICBybU1vdXNlTW92ZSA9IHJtTW91c2VVcCA9IHVuZGVmaW5lZDtcbiAgfTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBzdG9wVG91Y2goKTtcbiAgICBzdG9wTW91c2UoKTtcbiAgfTtcbiAgY29uc3QgZW5hYmxlID0gKGlzRW5hYmxlZCA9IHRydWUpID0+IHtcbiAgICBpZiAoIWlzRW5hYmxlZCkge1xuICAgICAgaWYgKHJtVG91Y2hTdGFydCkge1xuICAgICAgICBybVRvdWNoU3RhcnQoKTtcbiAgICAgIH1cbiAgICAgIGlmIChybU1vdXNlU3RhcnQpIHtcbiAgICAgICAgcm1Nb3VzZVN0YXJ0KCk7XG4gICAgICB9XG4gICAgICBybVRvdWNoU3RhcnQgPSBybU1vdXNlU3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKCFybVRvdWNoU3RhcnQpIHtcbiAgICAgICAgcm1Ub3VjaFN0YXJ0ID0gYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ3RvdWNoc3RhcnQnLCBoYW5kbGVUb3VjaFN0YXJ0LCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGlmICghcm1Nb3VzZVN0YXJ0KSB7XG4gICAgICAgIHJtTW91c2VTdGFydCA9IGFkZEV2ZW50TGlzdGVuZXIoZWwsICdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZURvd24sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgZGVzdHJveSA9ICgpID0+IHtcbiAgICBlbmFibGUoZmFsc2UpO1xuICAgIHBvaW50ZXJVcCA9IHBvaW50ZXJNb3ZlID0gcG9pbnRlckRvd24gPSB1bmRlZmluZWQ7XG4gIH07XG4gIHJldHVybiB7XG4gICAgZW5hYmxlLFxuICAgIHN0b3AsXG4gICAgZGVzdHJveSxcbiAgfTtcbn07XG5jb25zdCBnZXREb2N1bWVudCA9IChub2RlKSA9PiB7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgRG9jdW1lbnQgPyBub2RlIDogbm9kZS5vd25lckRvY3VtZW50O1xufTtcblxuY29uc3QgY3JlYXRlUGFuUmVjb2duaXplciA9IChkaXJlY3Rpb24sIHRocmVzaCwgbWF4QW5nbGUpID0+IHtcbiAgY29uc3QgcmFkaWFucyA9IG1heEFuZ2xlICogKE1hdGguUEkgLyAxODApO1xuICBjb25zdCBpc0RpclggPSBkaXJlY3Rpb24gPT09ICd4JztcbiAgY29uc3QgbWF4Q29zaW5lID0gTWF0aC5jb3MocmFkaWFucyk7XG4gIGNvbnN0IHRocmVzaG9sZCA9IHRocmVzaCAqIHRocmVzaDtcbiAgbGV0IHN0YXJ0WCA9IDA7XG4gIGxldCBzdGFydFkgPSAwO1xuICBsZXQgZGlydHkgPSBmYWxzZTtcbiAgbGV0IGlzUGFuID0gMDtcbiAgcmV0dXJuIHtcbiAgICBzdGFydCh4LCB5KSB7XG4gICAgICBzdGFydFggPSB4O1xuICAgICAgc3RhcnRZID0geTtcbiAgICAgIGlzUGFuID0gMDtcbiAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICB9LFxuICAgIGRldGVjdCh4LCB5KSB7XG4gICAgICBpZiAoIWRpcnR5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlbHRhWCA9IHggLSBzdGFydFg7XG4gICAgICBjb25zdCBkZWx0YVkgPSB5IC0gc3RhcnRZO1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVk7XG4gICAgICBpZiAoZGlzdGFuY2UgPCB0aHJlc2hvbGQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgaHlwb3RlbnVzZSA9IE1hdGguc3FydChkaXN0YW5jZSk7XG4gICAgICBjb25zdCBjb3NpbmUgPSAoaXNEaXJYID8gZGVsdGFYIDogZGVsdGFZKSAvIGh5cG90ZW51c2U7XG4gICAgICBpZiAoY29zaW5lID4gbWF4Q29zaW5lKSB7XG4gICAgICAgIGlzUGFuID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvc2luZSA8IC1tYXhDb3NpbmUpIHtcbiAgICAgICAgaXNQYW4gPSAtMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpc1BhbiA9IDA7XG4gICAgICB9XG4gICAgICBkaXJ0eSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBpc0dlc3R1cmUoKSB7XG4gICAgICByZXR1cm4gaXNQYW4gIT09IDA7XG4gICAgfSxcbiAgICBnZXREaXJlY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNQYW47XG4gICAgfSxcbiAgfTtcbn07XG5cbmNvbnN0IGNyZWF0ZUdlc3R1cmUgPSAoY29uZmlnKSA9PiB7XG4gIGxldCBoYXNDYXB0dXJlZFBhbiA9IGZhbHNlO1xuICBsZXQgaGFzU3RhcnRlZFBhbiA9IGZhbHNlO1xuICBsZXQgaGFzRmlyZWRTdGFydCA9IHRydWU7XG4gIGxldCBpc01vdmVRdWV1ZWQgPSBmYWxzZTtcbiAgY29uc3QgZmluYWxDb25maWcgPSBPYmplY3QuYXNzaWduKHsgZGlzYWJsZVNjcm9sbDogZmFsc2UsIGRpcmVjdGlvbjogJ3gnLCBnZXN0dXJlUHJpb3JpdHk6IDAsIHBhc3NpdmU6IHRydWUsIG1heEFuZ2xlOiA0MCwgdGhyZXNob2xkOiAxMCB9LCBjb25maWcpO1xuICBjb25zdCBjYW5TdGFydCA9IGZpbmFsQ29uZmlnLmNhblN0YXJ0O1xuICBjb25zdCBvbldpbGxTdGFydCA9IGZpbmFsQ29uZmlnLm9uV2lsbFN0YXJ0O1xuICBjb25zdCBvblN0YXJ0ID0gZmluYWxDb25maWcub25TdGFydDtcbiAgY29uc3Qgb25FbmQgPSBmaW5hbENvbmZpZy5vbkVuZDtcbiAgY29uc3Qgbm90Q2FwdHVyZWQgPSBmaW5hbENvbmZpZy5ub3RDYXB0dXJlZDtcbiAgY29uc3Qgb25Nb3ZlID0gZmluYWxDb25maWcub25Nb3ZlO1xuICBjb25zdCB0aHJlc2hvbGQgPSBmaW5hbENvbmZpZy50aHJlc2hvbGQ7XG4gIGNvbnN0IHBhc3NpdmUgPSBmaW5hbENvbmZpZy5wYXNzaXZlO1xuICBjb25zdCBibHVyT25TdGFydCA9IGZpbmFsQ29uZmlnLmJsdXJPblN0YXJ0O1xuICBjb25zdCBkZXRhaWwgPSB7XG4gICAgdHlwZTogJ3BhbicsXG4gICAgc3RhcnRYOiAwLFxuICAgIHN0YXJ0WTogMCxcbiAgICBzdGFydFRpbWU6IDAsXG4gICAgY3VycmVudFg6IDAsXG4gICAgY3VycmVudFk6IDAsXG4gICAgdmVsb2NpdHlYOiAwLFxuICAgIHZlbG9jaXR5WTogMCxcbiAgICBkZWx0YVg6IDAsXG4gICAgZGVsdGFZOiAwLFxuICAgIGN1cnJlbnRUaW1lOiAwLFxuICAgIGV2ZW50OiB1bmRlZmluZWQsXG4gICAgZGF0YTogdW5kZWZpbmVkLFxuICB9O1xuICBjb25zdCBwYW4gPSBjcmVhdGVQYW5SZWNvZ25pemVyKGZpbmFsQ29uZmlnLmRpcmVjdGlvbiwgZmluYWxDb25maWcudGhyZXNob2xkLCBmaW5hbENvbmZpZy5tYXhBbmdsZSk7XG4gIGNvbnN0IGdlc3R1cmUgPSBHRVNUVVJFX0NPTlRST0xMRVIuY3JlYXRlR2VzdHVyZSh7XG4gICAgbmFtZTogY29uZmlnLmdlc3R1cmVOYW1lLFxuICAgIHByaW9yaXR5OiBjb25maWcuZ2VzdHVyZVByaW9yaXR5LFxuICAgIGRpc2FibGVTY3JvbGw6IGNvbmZpZy5kaXNhYmxlU2Nyb2xsLFxuICB9KTtcbiAgY29uc3QgcG9pbnRlckRvd24gPSAoZXYpID0+IHtcbiAgICBjb25zdCB0aW1lU3RhbXAgPSBub3coZXYpO1xuICAgIGlmIChoYXNTdGFydGVkUGFuIHx8ICFoYXNGaXJlZFN0YXJ0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVwZGF0ZURldGFpbChldiwgZGV0YWlsKTtcbiAgICBkZXRhaWwuc3RhcnRYID0gZGV0YWlsLmN1cnJlbnRYO1xuICAgIGRldGFpbC5zdGFydFkgPSBkZXRhaWwuY3VycmVudFk7XG4gICAgZGV0YWlsLnN0YXJ0VGltZSA9IGRldGFpbC5jdXJyZW50VGltZSA9IHRpbWVTdGFtcDtcbiAgICBkZXRhaWwudmVsb2NpdHlYID0gZGV0YWlsLnZlbG9jaXR5WSA9IGRldGFpbC5kZWx0YVggPSBkZXRhaWwuZGVsdGFZID0gMDtcbiAgICBkZXRhaWwuZXZlbnQgPSBldjtcbiAgICAvLyBDaGVjayBpZiBnZXN0dXJlIGNhbiBzdGFydFxuICAgIGlmIChjYW5TdGFydCAmJiBjYW5TdGFydChkZXRhaWwpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBSZWxlYXNlIGZhbGxiYWNrXG4gICAgZ2VzdHVyZS5yZWxlYXNlKCk7XG4gICAgLy8gU3RhcnQgZ2VzdHVyZVxuICAgIGlmICghZ2VzdHVyZS5zdGFydCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGhhc1N0YXJ0ZWRQYW4gPSB0cnVlO1xuICAgIGlmICh0aHJlc2hvbGQgPT09IDApIHtcbiAgICAgIHJldHVybiB0cnlUb0NhcHR1cmVQYW4oKTtcbiAgICB9XG4gICAgcGFuLnN0YXJ0KGRldGFpbC5zdGFydFgsIGRldGFpbC5zdGFydFkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCBwb2ludGVyTW92ZSA9IChldikgPT4ge1xuICAgIC8vIGZhc3QgcGF0aCwgaWYgZ2VzdHVyZSBpcyBjdXJyZW50bHkgY2FwdHVyZWRcbiAgICAvLyBkbyBtaW5pbXVtIGpvYiB0byBnZXQgdXNlci1sYW5kIGV2ZW4gZGlzcGF0Y2hlZFxuICAgIGlmIChoYXNDYXB0dXJlZFBhbikge1xuICAgICAgaWYgKCFpc01vdmVRdWV1ZWQgJiYgaGFzRmlyZWRTdGFydCkge1xuICAgICAgICBpc01vdmVRdWV1ZWQgPSB0cnVlO1xuICAgICAgICBjYWxjR2VzdHVyZURhdGEoZGV0YWlsLCBldik7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmaXJlT25Nb3ZlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZ2VzdHVyZSBpcyBjdXJyZW50bHkgYmVpbmcgZGV0ZWN0ZWRcbiAgICBjYWxjR2VzdHVyZURhdGEoZGV0YWlsLCBldik7XG4gICAgaWYgKHBhbi5kZXRlY3QoZGV0YWlsLmN1cnJlbnRYLCBkZXRhaWwuY3VycmVudFkpKSB7XG4gICAgICBpZiAoIXBhbi5pc0dlc3R1cmUoKSB8fCAhdHJ5VG9DYXB0dXJlUGFuKCkpIHtcbiAgICAgICAgYWJvcnRHZXN0dXJlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBmaXJlT25Nb3ZlID0gKCkgPT4ge1xuICAgIC8vIFNpbmNlIGZpcmVPbk1vdmUgaXMgY2FsbGVkIGluc2lkZSBhIFJBRiwgb25FbmQoKSBtaWdodCBiZSBjYWxsZWQsXG4gICAgLy8gd2UgbXVzdCBkb3VibGUgY2hlY2sgaGFzQ2FwdHVyZWRQYW5cbiAgICBpZiAoIWhhc0NhcHR1cmVkUGFuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlzTW92ZVF1ZXVlZCA9IGZhbHNlO1xuICAgIGlmIChvbk1vdmUpIHtcbiAgICAgIG9uTW92ZShkZXRhaWwpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdHJ5VG9DYXB0dXJlUGFuID0gKCkgPT4ge1xuICAgIGlmICghZ2VzdHVyZS5jYXB0dXJlKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaGFzQ2FwdHVyZWRQYW4gPSB0cnVlO1xuICAgIGhhc0ZpcmVkU3RhcnQgPSBmYWxzZTtcbiAgICAvLyByZXNldCBzdGFydCBwb3NpdGlvbiBzaW5jZSB0aGUgcmVhbCB1c2VyLWxhbmQgZXZlbnQgc3RhcnRzIGhlcmVcbiAgICAvLyBJZiB0aGUgcGFuIGRldGVjdG9yIHRocmVzaG9sZCBpcyBiaWcsIG5vdCByZXNldHRpbmcgdGhlIHN0YXJ0IHBvc2l0aW9uXG4gICAgLy8gd2lsbCBjYXVzZSBhIGp1bXAgaW4gdGhlIGFuaW1hdGlvbiBlcXVhbCB0byB0aGUgZGV0ZWN0b3IgdGhyZXNob2xkLlxuICAgIC8vIHRoZSBhcnJheSBvZiBwb3NpdGlvbnMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGdlc3R1cmUgdmVsb2NpdHkgZG9lcyBub3RcbiAgICAvLyBuZWVkIHRvIGJlIGNsZWFuZWQsIG1vcmUgcG9pbnRzIGluIHRoZSBwb3NpdGlvbnMgYXJyYXkgYWx3YXlzIHJlc3VsdHMgaW4gYVxuICAgIC8vIG1vcmUgYWNjdXJhdGUgdmFsdWUgb2YgdGhlIHZlbG9jaXR5LlxuICAgIGRldGFpbC5zdGFydFggPSBkZXRhaWwuY3VycmVudFg7XG4gICAgZGV0YWlsLnN0YXJ0WSA9IGRldGFpbC5jdXJyZW50WTtcbiAgICBkZXRhaWwuc3RhcnRUaW1lID0gZGV0YWlsLmN1cnJlbnRUaW1lO1xuICAgIGlmIChvbldpbGxTdGFydCkge1xuICAgICAgb25XaWxsU3RhcnQoZGV0YWlsKS50aGVuKGZpcmVPblN0YXJ0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmaXJlT25TdGFydCgpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgYmx1ckFjdGl2ZUVsZW1lbnQgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IG51bGwgfHwgYWN0aXZlRWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWN0aXZlRWxlbWVudC5ibHVyKSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgZmlyZU9uU3RhcnQgPSAoKSA9PiB7XG4gICAgaWYgKGJsdXJPblN0YXJ0KSB7XG4gICAgICBibHVyQWN0aXZlRWxlbWVudCgpO1xuICAgIH1cbiAgICBpZiAob25TdGFydCkge1xuICAgICAgb25TdGFydChkZXRhaWwpO1xuICAgIH1cbiAgICBoYXNGaXJlZFN0YXJ0ID0gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgaGFzQ2FwdHVyZWRQYW4gPSBmYWxzZTtcbiAgICBoYXNTdGFydGVkUGFuID0gZmFsc2U7XG4gICAgaXNNb3ZlUXVldWVkID0gZmFsc2U7XG4gICAgaGFzRmlyZWRTdGFydCA9IHRydWU7XG4gICAgZ2VzdHVyZS5yZWxlYXNlKCk7XG4gIH07XG4gIC8vIEVORCAqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIGNvbnN0IHBvaW50ZXJVcCA9IChldikgPT4ge1xuICAgIGNvbnN0IHRtcEhhc0NhcHR1cmVkID0gaGFzQ2FwdHVyZWRQYW47XG4gICAgY29uc3QgdG1wSGFzRmlyZWRTdGFydCA9IGhhc0ZpcmVkU3RhcnQ7XG4gICAgcmVzZXQoKTtcbiAgICBpZiAoIXRtcEhhc0ZpcmVkU3RhcnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsY0dlc3R1cmVEYXRhKGRldGFpbCwgZXYpO1xuICAgIC8vIFRyeSB0byBjYXB0dXJlIHByZXNzXG4gICAgaWYgKHRtcEhhc0NhcHR1cmVkKSB7XG4gICAgICBpZiAob25FbmQpIHtcbiAgICAgICAgb25FbmQoZGV0YWlsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTm90IGNhcHR1cmVkIGFueSBldmVudFxuICAgIGlmIChub3RDYXB0dXJlZCkge1xuICAgICAgbm90Q2FwdHVyZWQoZGV0YWlsKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBvaW50ZXJFdmVudHMgPSBjcmVhdGVQb2ludGVyRXZlbnRzKGZpbmFsQ29uZmlnLmVsLCBwb2ludGVyRG93biwgcG9pbnRlck1vdmUsIHBvaW50ZXJVcCwge1xuICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgIHBhc3NpdmUsXG4gIH0pO1xuICBjb25zdCBhYm9ydEdlc3R1cmUgPSAoKSA9PiB7XG4gICAgcmVzZXQoKTtcbiAgICBwb2ludGVyRXZlbnRzLnN0b3AoKTtcbiAgICBpZiAobm90Q2FwdHVyZWQpIHtcbiAgICAgIG5vdENhcHR1cmVkKGRldGFpbCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIGVuYWJsZShlbmFibGUgPSB0cnVlKSB7XG4gICAgICBpZiAoIWVuYWJsZSkge1xuICAgICAgICBpZiAoaGFzQ2FwdHVyZWRQYW4pIHtcbiAgICAgICAgICBwb2ludGVyVXAodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXNldCgpO1xuICAgICAgfVxuICAgICAgcG9pbnRlckV2ZW50cy5lbmFibGUoZW5hYmxlKTtcbiAgICB9LFxuICAgIGRlc3Ryb3koKSB7XG4gICAgICBnZXN0dXJlLmRlc3Ryb3koKTtcbiAgICAgIHBvaW50ZXJFdmVudHMuZGVzdHJveSgpO1xuICAgIH0sXG4gIH07XG59O1xuY29uc3QgY2FsY0dlc3R1cmVEYXRhID0gKGRldGFpbCwgZXYpID0+IHtcbiAgaWYgKCFldikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwcmV2WCA9IGRldGFpbC5jdXJyZW50WDtcbiAgY29uc3QgcHJldlkgPSBkZXRhaWwuY3VycmVudFk7XG4gIGNvbnN0IHByZXZUID0gZGV0YWlsLmN1cnJlbnRUaW1lO1xuICB1cGRhdGVEZXRhaWwoZXYsIGRldGFpbCk7XG4gIGNvbnN0IGN1cnJlbnRYID0gZGV0YWlsLmN1cnJlbnRYO1xuICBjb25zdCBjdXJyZW50WSA9IGRldGFpbC5jdXJyZW50WTtcbiAgY29uc3QgdGltZXN0YW1wID0gKGRldGFpbC5jdXJyZW50VGltZSA9IG5vdyhldikpO1xuICBjb25zdCB0aW1lRGVsdGEgPSB0aW1lc3RhbXAgLSBwcmV2VDtcbiAgaWYgKHRpbWVEZWx0YSA+IDAgJiYgdGltZURlbHRhIDwgMTAwKSB7XG4gICAgY29uc3QgdmVsb2NpdHlYID0gKGN1cnJlbnRYIC0gcHJldlgpIC8gdGltZURlbHRhO1xuICAgIGNvbnN0IHZlbG9jaXR5WSA9IChjdXJyZW50WSAtIHByZXZZKSAvIHRpbWVEZWx0YTtcbiAgICBkZXRhaWwudmVsb2NpdHlYID0gdmVsb2NpdHlYICogMC43ICsgZGV0YWlsLnZlbG9jaXR5WCAqIDAuMztcbiAgICBkZXRhaWwudmVsb2NpdHlZID0gdmVsb2NpdHlZICogMC43ICsgZGV0YWlsLnZlbG9jaXR5WSAqIDAuMztcbiAgfVxuICBkZXRhaWwuZGVsdGFYID0gY3VycmVudFggLSBkZXRhaWwuc3RhcnRYO1xuICBkZXRhaWwuZGVsdGFZID0gY3VycmVudFkgLSBkZXRhaWwuc3RhcnRZO1xuICBkZXRhaWwuZXZlbnQgPSBldjtcbn07XG5jb25zdCB1cGRhdGVEZXRhaWwgPSAoZXYsIGRldGFpbCkgPT4ge1xuICAvLyBnZXQgWCBjb29yZGluYXRlcyBmb3IgZWl0aGVyIGEgbW91c2UgY2xpY2tcbiAgLy8gb3IgYSB0b3VjaCBkZXBlbmRpbmcgb24gdGhlIGdpdmVuIGV2ZW50XG4gIGxldCB4ID0gMDtcbiAgbGV0IHkgPSAwO1xuICBpZiAoZXYpIHtcbiAgICBjb25zdCBjaGFuZ2VkVG91Y2hlcyA9IGV2LmNoYW5nZWRUb3VjaGVzO1xuICAgIGlmIChjaGFuZ2VkVG91Y2hlcyAmJiBjaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB0b3VjaCA9IGNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgeCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICB5ID0gdG91Y2guY2xpZW50WTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXYucGFnZVggIT09IHVuZGVmaW5lZCkge1xuICAgICAgeCA9IGV2LnBhZ2VYO1xuICAgICAgeSA9IGV2LnBhZ2VZO1xuICAgIH1cbiAgfVxuICBkZXRhaWwuY3VycmVudFggPSB4O1xuICBkZXRhaWwuY3VycmVudFkgPSB5O1xufTtcbmNvbnN0IG5vdyA9IChldikgPT4ge1xuICByZXR1cm4gZXYudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVHZXN0dXJlIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgaCBhcyBjbGFtcCB9IGZyb20gJy4vaGVscGVycy5qcyc7XG5pbXBvcnQgeyBpIGFzIGlzUlRMIH0gZnJvbSAnLi9kaXIuanMnO1xuaW1wb3J0IHsgY3JlYXRlR2VzdHVyZSB9IGZyb20gJy4vaW5kZXgyLmpzJztcblxuY29uc3QgY3JlYXRlU3dpcGVCYWNrR2VzdHVyZSA9IChlbCwgY2FuU3RhcnRIYW5kbGVyLCBvblN0YXJ0SGFuZGxlciwgb25Nb3ZlSGFuZGxlciwgb25FbmRIYW5kbGVyKSA9PiB7XG4gIGNvbnN0IHdpbiA9IGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gIGNvbnN0IHJ0bCA9IGlzUlRMKGVsKTtcbiAgLyoqXG4gICAqIERldGVybWluZSBpZiBhIGdlc3R1cmUgaXMgbmVhciB0aGUgZWRnZVxuICAgKiBvZiB0aGUgc2NyZWVuLiBJZiB0cnVlLCB0aGVuIHRoZSBzd2lwZVxuICAgKiB0byBnbyBiYWNrIGdlc3R1cmUgc2hvdWxkIHByb2NlZWQuXG4gICAqL1xuICBjb25zdCBpc0F0RWRnZSA9IChkZXRhaWwpID0+IHtcbiAgICBjb25zdCB0aHJlc2hvbGQgPSA1MDtcbiAgICBjb25zdCB7IHN0YXJ0WCB9ID0gZGV0YWlsO1xuICAgIGlmIChydGwpIHtcbiAgICAgIHJldHVybiBzdGFydFggPj0gd2luLmlubmVyV2lkdGggLSB0aHJlc2hvbGQ7XG4gICAgfVxuICAgIHJldHVybiBzdGFydFggPD0gdGhyZXNob2xkO1xuICB9O1xuICBjb25zdCBnZXREZWx0YVggPSAoZGV0YWlsKSA9PiB7XG4gICAgcmV0dXJuIHJ0bCA/IC1kZXRhaWwuZGVsdGFYIDogZGV0YWlsLmRlbHRhWDtcbiAgfTtcbiAgY29uc3QgZ2V0VmVsb2NpdHlYID0gKGRldGFpbCkgPT4ge1xuICAgIHJldHVybiBydGwgPyAtZGV0YWlsLnZlbG9jaXR5WCA6IGRldGFpbC52ZWxvY2l0eVg7XG4gIH07XG4gIGNvbnN0IGNhblN0YXJ0ID0gKGRldGFpbCkgPT4ge1xuICAgIHJldHVybiBpc0F0RWRnZShkZXRhaWwpICYmIGNhblN0YXJ0SGFuZGxlcigpO1xuICB9O1xuICBjb25zdCBvbk1vdmUgPSAoZGV0YWlsKSA9PiB7XG4gICAgLy8gc2V0IHRoZSB0cmFuc2l0aW9uIGFuaW1hdGlvbidzIHByb2dyZXNzXG4gICAgY29uc3QgZGVsdGEgPSBnZXREZWx0YVgoZGV0YWlsKTtcbiAgICBjb25zdCBzdGVwVmFsdWUgPSBkZWx0YSAvIHdpbi5pbm5lcldpZHRoO1xuICAgIG9uTW92ZUhhbmRsZXIoc3RlcFZhbHVlKTtcbiAgfTtcbiAgY29uc3Qgb25FbmQgPSAoZGV0YWlsKSA9PiB7XG4gICAgLy8gdGhlIHN3aXBlIGJhY2sgZ2VzdHVyZSBoYXMgZW5kZWRcbiAgICBjb25zdCBkZWx0YSA9IGdldERlbHRhWChkZXRhaWwpO1xuICAgIGNvbnN0IHdpZHRoID0gd2luLmlubmVyV2lkdGg7XG4gICAgY29uc3Qgc3RlcFZhbHVlID0gZGVsdGEgLyB3aWR0aDtcbiAgICBjb25zdCB2ZWxvY2l0eSA9IGdldFZlbG9jaXR5WChkZXRhaWwpO1xuICAgIGNvbnN0IHogPSB3aWR0aCAvIDIuMDtcbiAgICBjb25zdCBzaG91bGRDb21wbGV0ZSA9IHZlbG9jaXR5ID49IDAgJiYgKHZlbG9jaXR5ID4gMC4yIHx8IGRlbHRhID4geik7XG4gICAgY29uc3QgbWlzc2luZyA9IHNob3VsZENvbXBsZXRlID8gMSAtIHN0ZXBWYWx1ZSA6IHN0ZXBWYWx1ZTtcbiAgICBjb25zdCBtaXNzaW5nRGlzdGFuY2UgPSBtaXNzaW5nICogd2lkdGg7XG4gICAgbGV0IHJlYWxEdXIgPSAwO1xuICAgIGlmIChtaXNzaW5nRGlzdGFuY2UgPiA1KSB7XG4gICAgICBjb25zdCBkdXIgPSBtaXNzaW5nRGlzdGFuY2UgLyBNYXRoLmFicyh2ZWxvY2l0eSk7XG4gICAgICByZWFsRHVyID0gTWF0aC5taW4oZHVyLCA1NDApO1xuICAgIH1cbiAgICBvbkVuZEhhbmRsZXIoc2hvdWxkQ29tcGxldGUsIHN0ZXBWYWx1ZSA8PSAwID8gMC4wMSA6IGNsYW1wKDAsIHN0ZXBWYWx1ZSwgMC45OTk5KSwgcmVhbER1cik7XG4gIH07XG4gIHJldHVybiBjcmVhdGVHZXN0dXJlKHtcbiAgICBlbCxcbiAgICBnZXN0dXJlTmFtZTogJ2dvYmFjay1zd2lwZScsXG4gICAgZ2VzdHVyZVByaW9yaXR5OiA0MCxcbiAgICB0aHJlc2hvbGQ6IDEwLFxuICAgIGNhblN0YXJ0LFxuICAgIG9uU3RhcnQ6IG9uU3RhcnRIYW5kbGVyLFxuICAgIG9uTW92ZSxcbiAgICBvbkVuZCxcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVTd2lwZUJhY2tHZXN0dXJlIH07XG4iXSwibmFtZXMiOlsiR2VzdHVyZUNvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJnZXN0dXJlSWQiLCJyZXF1ZXN0ZWRTdGFydCIsIk1hcCIsImRpc2FibGVkR2VzdHVyZXMiLCJkaXNhYmxlZFNjcm9sbCIsIlNldCIsImNyZWF0ZUdlc3R1cmUiLCJjb25maWciLCJfYSIsIkdlc3R1cmVEZWxlZ2F0ZSIsIm5ld0lEIiwibmFtZSIsInByaW9yaXR5IiwiZGlzYWJsZVNjcm9sbCIsImNyZWF0ZUJsb2NrZXIiLCJvcHRzIiwiQmxvY2tlckRlbGVnYXRlIiwiZGlzYWJsZSIsInN0YXJ0IiwiZ2VzdHVyZU5hbWUiLCJpZCIsImNhblN0YXJ0Iiwic2V0IiwiZGVsZXRlIiwiY2FwdHVyZSIsIm1heFByaW9yaXR5IiwiZm9yRWFjaCIsInZhbHVlIiwiTWF0aCIsIm1heCIsImNhcHR1cmVkSWQiLCJjbGVhciIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJkb2N1bWVudCIsImRpc3BhdGNoRXZlbnQiLCJyZWxlYXNlIiwidW5kZWZpbmVkIiwiZGlzYWJsZUdlc3R1cmUiLCJnZXQiLCJhZGQiLCJlbmFibGVHZXN0dXJlIiwic2l6ZSIsImJvZHkiLCJjbGFzc0xpc3QiLCJCQUNLRFJPUF9OT19TQ1JPTEwiLCJlbmFibGVTY3JvbGwiLCJyZW1vdmUiLCJpc0Rpc2FibGVkIiwiaXNDYXB0dXJlZCIsImlzU2Nyb2xsRGlzYWJsZWQiLCJkaXNhYmxlZCIsImN0cmwiLCJjYXB0dXJlZCIsImRlc3Ryb3kiLCJibG9jayIsImdlc3R1cmUiLCJ1bmJsb2NrIiwiR0VTVFVSRV9DT05UUk9MTEVSIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJsaXN0ZW5lck9wdHMiLCJzdXBwb3J0c1Bhc3NpdmUiLCJwYXNzaXZlIiwibm9kZSIsIl9zUGFzc2l2ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZSIsIk1PVVNFX1dBSVQiLCJjcmVhdGVQb2ludGVyRXZlbnRzIiwicG9pbnRlckRvd24iLCJwb2ludGVyTW92ZSIsInBvaW50ZXJVcCIsIm9wdGlvbnMiLCJybVRvdWNoU3RhcnQiLCJybVRvdWNoTW92ZSIsInJtVG91Y2hFbmQiLCJybVRvdWNoQ2FuY2VsIiwicm1Nb3VzZVN0YXJ0Iiwicm1Nb3VzZU1vdmUiLCJybU1vdXNlVXAiLCJsYXN0VG91Y2hFdmVudCIsImhhbmRsZVRvdWNoU3RhcnQiLCJldiIsIkRhdGUiLCJub3ciLCJ0YXJnZXQiLCJoYW5kbGVUb3VjaEVuZCIsImhhbmRsZU1vdXNlRG93biIsImdldERvY3VtZW50IiwiaGFuZGxlTW91c2VVcCIsInN0b3BUb3VjaCIsInN0b3BNb3VzZSIsInN0b3AiLCJlbmFibGUiLCJpc0VuYWJsZWQiLCJEb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJjcmVhdGVQYW5SZWNvZ25pemVyIiwiZGlyZWN0aW9uIiwidGhyZXNoIiwibWF4QW5nbGUiLCJyYWRpYW5zIiwiUEkiLCJpc0RpclgiLCJtYXhDb3NpbmUiLCJjb3MiLCJ0aHJlc2hvbGQiLCJzdGFydFgiLCJzdGFydFkiLCJkaXJ0eSIsImlzUGFuIiwieCIsInkiLCJkZXRlY3QiLCJkZWx0YVgiLCJkZWx0YVkiLCJkaXN0YW5jZSIsImh5cG90ZW51c2UiLCJzcXJ0IiwiY29zaW5lIiwiaXNHZXN0dXJlIiwiZ2V0RGlyZWN0aW9uIiwiaGFzQ2FwdHVyZWRQYW4iLCJoYXNTdGFydGVkUGFuIiwiaGFzRmlyZWRTdGFydCIsImlzTW92ZVF1ZXVlZCIsImZpbmFsQ29uZmlnIiwiYXNzaWduIiwiZ2VzdHVyZVByaW9yaXR5Iiwib25XaWxsU3RhcnQiLCJvblN0YXJ0Iiwib25FbmQiLCJub3RDYXB0dXJlZCIsIm9uTW92ZSIsImJsdXJPblN0YXJ0IiwidHlwZSIsInN0YXJ0VGltZSIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJjdXJyZW50VGltZSIsImRhdGEiLCJwYW4iLCJ0aW1lU3RhbXAiLCJ1cGRhdGVEZXRhaWwiLCJ0cnlUb0NhcHR1cmVQYW4iLCJjYWxjR2VzdHVyZURhdGEiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmaXJlT25Nb3ZlIiwiYWJvcnRHZXN0dXJlIiwidGhlbiIsImZpcmVPblN0YXJ0IiwiYmx1ckFjdGl2ZUVsZW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiYmx1ciIsInJlc2V0IiwidG1wSGFzQ2FwdHVyZWQiLCJ0bXBIYXNGaXJlZFN0YXJ0IiwicG9pbnRlckV2ZW50cyIsInByZXZYIiwicHJldlkiLCJwcmV2VCIsInRpbWVzdGFtcCIsInRpbWVEZWx0YSIsImNoYW5nZWRUb3VjaGVzIiwibGVuZ3RoIiwidG91Y2giLCJjbGllbnRYIiwiY2xpZW50WSIsInBhZ2VYIiwicGFnZVkiLCJjcmVhdGVTd2lwZUJhY2tHZXN0dXJlIiwiY2FuU3RhcnRIYW5kbGVyIiwib25TdGFydEhhbmRsZXIiLCJvbk1vdmVIYW5kbGVyIiwib25FbmRIYW5kbGVyIiwid2luIiwiZGVmYXVsdFZpZXciLCJydGwiLCJpIiwiaXNBdEVkZ2UiLCJpbm5lcldpZHRoIiwiZ2V0RGVsdGFYIiwiZ2V0VmVsb2NpdHlYIiwiZGVsdGEiLCJzdGVwVmFsdWUiLCJ3aWR0aCIsInZlbG9jaXR5IiwieiIsInNob3VsZENvbXBsZXRlIiwibWlzc2luZyIsIm1pc3NpbmdEaXN0YW5jZSIsInJlYWxEdXIiLCJkdXIiLCJhYnMiLCJtaW4iXSwic291cmNlUm9vdCI6IiJ9